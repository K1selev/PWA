{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"order-checkout\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"src\", \"alt\"];\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"checkout\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[2] || (_cache[2] = _createElementVNode(\"h1\", null, \"Корзина\", -1 /* HOISTED */)), _createCommentVNode(\" Если корзина пуста \"), $data.cart.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _cache[1] || (_cache[1] = [_createElementVNode(\"p\", null, \"Корзина пуста. Добавьте котов на аренду!\", -1 /* HOISTED */)]))) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Если в корзине есть товары \"), _createElementVNode(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cart, (cat, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: cat.id + cat.selectedPlan,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"div\", null, [_createElementVNode(\"img\", {\n      src: require(`@/assets/photos/${cat.image}`),\n      alt: cat.name\n    }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"h3\", null, _toDisplayString(cat.name) + \" - \" + _toDisplayString(cat.selectedPlan), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(cat.price) + \" ₽\", 1 /* TEXT */)]), _createCommentVNode(\" Кнопка для удаления из корзины \"), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeFromCart(index)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_4)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"p\", null, \"Итоговая стоимость: \" + _toDisplayString($options.totalPrice) + \" ₽\", 1 /* TEXT */), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.checkout && $options.checkout(...args))\n  }, \"Оформить заказ\")])])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","$data","cart","length","_hoisted_2","_cache","_Fragment","_renderList","cat","index","id","selectedPlan","src","require","image","alt","name","_hoisted_3","_toDisplayString","price","onClick","$event","$options","removeFromCart","_hoisted_4","_hoisted_5","totalPrice","args","checkout"],"sources":["/Users/sergey/Desktop/Политех/Web/PWA/src/pages/OrderCheckout.vue"],"sourcesContent":["<template>\n  <div class=\"order-checkout\">\n    <h1>Корзина</h1>\n    \n    <!-- Если корзина пуста -->\n    <div v-if=\"cart.length === 0\">\n      <p>Корзина пуста. Добавьте котов на аренду!</p>\n    </div>\n\n    <!-- Если в корзине есть товары -->\n    <div v-else>\n      <div v-for=\"(cat, index) in cart\" :key=\"cat.id + cat.selectedPlan\" class=\"cart-item\">\n        <div>\n          <img :src=\"require(`@/assets/photos/${cat.image}`)\" :alt=\"cat.name\" />\n          <h3>{{ cat.name }} - {{ cat.selectedPlan }}</h3>\n          <p>{{ cat.price }} ₽</p>\n        </div>\n\n        <!-- Кнопка для удаления из корзины -->\n        <button @click=\"removeFromCart(index)\">Удалить</button>\n      </div>\n\n      <div class=\"checkout\">\n        <p>Итоговая стоимость: {{ totalPrice }} ₽</p>\n        <button @click=\"checkout\">Оформить заказ</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'OrderCheckout',\n  data() {\n    return {\n      // Получаем корзину из localStorage\n      cart: JSON.parse(localStorage.getItem('cart')) || [],\n    };\n  },\n  computed: {\n    totalPrice() {\n      // Считаем итоговую цену всех товаров в корзине\n      return this.cart.reduce((total, cat) => total + cat.price, 0);\n    }\n  },\n  methods: {\n    // Удаление кота из корзины\n    removeFromCart(index) {\n      this.cart.splice(index, 1);  // Удаляем товар по индексу\n      localStorage.setItem('cart', JSON.stringify(this.cart));  // Обновляем корзину в localStorage\n    },\n\n    // Функция оформления заказа (очистка корзины)\n    checkout() {\n      alert('Заказ оформлен!');\n      this.cart = [];\n      localStorage.removeItem('cart');  // Очистить корзину в localStorage\n    }\n  },\n};\n</script>\n\n<style scoped>\n.order-checkout {\n  padding: 20px;\n}\n\n.cart-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 15px;\n  border-bottom: 1px solid #ddd;\n}\n\n.cart-item img {\n  width: 100px;\n  height: 100px;\n  object-fit: cover;\n}\n\n.checkout {\n  margin-top: 20px;\n}\n\n.checkout button {\n  background: #28a745;\n  color: #fff;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 5px;\n}\n\n.checkout button:hover {\n  background: #218838;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAgB;;EAD7BC,GAAA;AAAA;mBAAA;mBAAA;;EAsBWD,KAAK,EAAC;AAAU;;uBArBzBE,mBAAA,CA0BM,OA1BNC,UA0BM,G,0BAzBJC,mBAAA,CAAgB,YAAZ,SAAO,sBAEXC,mBAAA,wBAA2B,EAChBC,KAAA,CAAAC,IAAI,CAACC,MAAM,U,cAAtBN,mBAAA,CAEM,OAPVO,UAAA,EAAAC,MAAA,QAAAA,MAAA,OAMMN,mBAAA,CAA+C,WAA5C,0CAAwC,oB,qBAI7CF,mBAAA,CAgBMS,SAAA;IA1BVV,GAAA;EAAA,IASII,mBAAA,gCAAmC,EACnCD,mBAAA,CAgBM,e,kBAfJF,mBAAA,CASMS,SAAA,QApBZC,WAAA,CAWkCN,KAAA,CAAAC,IAAI,EAXtC,CAWmBM,GAAG,EAAEC,KAAK;yBAAvBZ,mBAAA,CASM;MAT6BD,GAAG,EAAEY,GAAG,CAACE,EAAE,GAAGF,GAAG,CAACG,YAAY;MAAEhB,KAAK,EAAC;QACvEI,mBAAA,CAIM,cAHJA,mBAAA,CAAsE;MAAhEa,GAAG,EAAEC,OAAO,oBAAoBL,GAAG,CAACM,KAAK;MAAMC,GAAG,EAAEP,GAAG,CAACQ;4BAbxEC,UAAA,GAcUlB,mBAAA,CAAgD,YAAAmB,gBAAA,CAAzCV,GAAG,CAACQ,IAAI,IAAG,KAAG,GAAAE,gBAAA,CAAGV,GAAG,CAACG,YAAY,kBACxCZ,mBAAA,CAAwB,WAAAmB,gBAAA,CAAlBV,GAAG,CAACW,KAAK,IAAG,IAAE,gB,GAGtBnB,mBAAA,oCAAuC,EACvCD,mBAAA,CAAuD;MAA9CqB,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,cAAc,CAACd,KAAK;OAAG,SAAO,iBAnBtDe,UAAA,E;kCAsBMzB,mBAAA,CAGM,OAHN0B,UAGM,GAFJ1B,mBAAA,CAA6C,WAA1C,sBAAoB,GAAAmB,gBAAA,CAAGI,QAAA,CAAAI,UAAU,IAAG,IAAE,iBACzC3B,mBAAA,CAAiD;IAAxCqB,OAAK,EAAAf,MAAA,QAAAA,MAAA,UAAAsB,IAAA,KAAEL,QAAA,CAAAM,QAAA,IAAAN,QAAA,CAAAM,QAAA,IAAAD,IAAA,CAAQ;KAAE,gBAAc,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}