{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"checkout\"\n};\nconst _hoisted_2 = {\n  class: \"form-group\"\n};\nconst _hoisted_3 = {\n  class: \"form-group\"\n};\nconst _hoisted_4 = {\n  class: \"form-group\"\n};\nconst _hoisted_5 = {\n  key: 0\n};\nconst _hoisted_6 = {\n  class: \"order-summary\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[9] || (_cache[9] = _createElementVNode(\"h1\", null, \"Оформление заказа\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.submitOrder && $options.submitOrder(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"label\", {\n    for: \"name\"\n  }, \"Имя\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"name\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.formData.name = $event),\n    type: \"text\",\n    placeholder: \"Ваше имя\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.name]])]), _createElementVNode(\"div\", _hoisted_3, [_cache[5] || (_cache[5] = _createElementVNode(\"label\", {\n    for: \"phone\"\n  }, \"Телефон\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"phone\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.formData.phone = $event),\n    type: \"tel\",\n    placeholder: \"Ваш номер телефона\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.phone]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"email\"\n  }, \"Email\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.formData.email = $event),\n    type: \"email\",\n    placeholder: \"Ваш email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.formData.email]])]), $data.cart.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[7] || (_cache[7] = _createElementVNode(\"h2\", null, \"Ваш заказ\", -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cart, (item, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createTextVNode(_toDisplayString(item.name) + \" (\" + _toDisplayString(item.rentalPeriod) + \"): \", 1 /* TEXT */), _createElementVNode(\"strong\", null, _toDisplayString($options.calculatePrice(item)) + \" ₽\", 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"h3\", null, \"Итого: \" + _toDisplayString($options.total) + \" ₽\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _cache[8] || (_cache[8] = _createElementVNode(\"button\", {\n    type: \"submit\"\n  }, \"Подтвердить заказ\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","submitOrder","_hoisted_2","for","id","$event","$data","formData","name","type","placeholder","required","_hoisted_3","phone","_hoisted_4","email","cart","length","_hoisted_5","_hoisted_6","_Fragment","_renderList","item","index","_createTextVNode","_toDisplayString","rentalPeriod","calculatePrice","total","_createCommentVNode"],"sources":["/Users/sergey/Desktop/Политех/Web/PWA/src/pages/OrderCheckout.vue"],"sourcesContent":["<template>\n  <div class=\"checkout\">\n    <h1>Оформление заказа</h1>\n    <form @submit.prevent=\"submitOrder\">\n      <div class=\"form-group\">\n        <label for=\"name\">Имя</label>\n        <input\n          id=\"name\"\n          v-model=\"formData.name\"\n          type=\"text\"\n          placeholder=\"Ваше имя\"\n          required\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"phone\">Телефон</label>\n        <input\n          id=\"phone\"\n          v-model=\"formData.phone\"\n          type=\"tel\"\n          placeholder=\"Ваш номер телефона\"\n          required\n        />\n      </div>\n      <div class=\"form-group\">\n        <label for=\"email\">Email</label>\n        <input\n          id=\"email\"\n          v-model=\"formData.email\"\n          type=\"email\"\n          placeholder=\"Ваш email\"\n          required\n        />\n      </div>\n      <div v-if=\"cart.length > 0\">\n        <h2>Ваш заказ</h2>\n        <ul class=\"order-summary\">\n          <li v-for=\"(item, index) in cart\" :key=\"index\">\n            {{ item.name }} ({{ item.rentalPeriod }}): \n            <strong>{{ calculatePrice(item) }} ₽</strong>\n          </li>\n        </ul>\n        <h3>Итого: {{ total }} ₽</h3>\n      </div>\n      <button type=\"submit\">Подтвердить заказ</button>\n    </form>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      formData: {\n        name: '',\n        phone: '',\n        email: '',\n      },\n      cart: [],\n    };\n  },\n  computed: {\n    total() {\n      return this.cart.reduce((sum, item) => sum + this.calculatePrice(item), 0);\n    },\n  },\n  methods: {\n    calculatePrice(item) {\n      if (item.rentalPeriod === 'day') return item.priceDay;\n      if (item.rentalPeriod === 'week') return item.priceWeek;\n      if (item.rentalPeriod === 'month') return item.priceMonth;\n    },\n    submitOrder() {\n      if (this.cart.length === 0) {\n        alert('Ваша корзина пуста!');\n        return;\n      }\n\n      // Формируем заказ\n      const order = {\n        customer: this.formData,\n        items: this.cart,\n        total: this.total,\n      };\n\n      // Отправка данных заказа (здесь имитация, вместо этого нужно использовать API)\n      console.log('Заказ отправлен:', order);\n\n      // Очищаем корзину и показываем сообщение\n      localStorage.removeItem('cart');\n      this.cart = [];\n      alert(`Спасибо за заказ, ${this.formData.name}! Мы с вами свяжемся.`);\n      \n      // Перенаправляем на главную страницу\n      this.$router.push('/catalog');\n    },\n  },\n  mounted() {\n    this.cart = JSON.parse(localStorage.getItem('cart')) || [];\n  },\n};\n</script>\n\n<style scoped>\n.checkout {\n  padding: 20px;\n  max-width: 600px;\n  margin: auto;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\nh1 {\n  font-size: 2rem;\n  margin-bottom: 20px;\n  text-align: center;\n}\n\n.form-group {\n  margin-bottom: 15px;\n}\n\nlabel {\n  font-weight: bold;\n  display: block;\n  margin-bottom: 5px;\n}\n\ninput {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n  font-size: 1rem;\n}\n\nbutton[type=\"submit\"] {\n  width: 100%;\n  padding: 15px;\n  border: none;\n  background-color: #28a745;\n  color: white;\n  font-size: 1.2rem;\n  border-radius: 5px;\n  cursor: pointer;\n  margin-top: 20px;\n}\n\nbutton[type=\"submit\"]:hover {\n  background-color: #218838;\n}\n\n.order-summary {\n  list-style: none;\n  padding: 0;\n  margin-bottom: 20px;\n}\n\n.order-summary li {\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n  display: flex;\n  justify-content: space-between;\n}\n\nh3 {\n  text-align: right;\n  font-size: 1.5rem;\n  color: #333;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAU;;EAGZA,KAAK,EAAC;AAAY;;EAUlBA,KAAK,EAAC;AAAY;;EAUlBA,KAAK,EAAC;AAAY;;EAxB7BC,GAAA;AAAA;;EAoCYD,KAAK,EAAC;AAAe;;uBAnC/BE,mBAAA,CA6CM,OA7CNC,UA6CM,G,0BA5CJC,mBAAA,CAA0B,YAAtB,mBAAiB,sBACrBA,mBAAA,CA0CO;IA1CAC,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAHjBC,cAAA,KAAAC,IAAA,KAG2BC,QAAA,CAAAC,WAAA,IAAAD,QAAA,CAAAC,WAAA,IAAAF,IAAA,CAAW;MAChCJ,mBAAA,CASM,OATNO,UASM,G,0BARJP,mBAAA,CAA6B;IAAtBQ,GAAG,EAAC;EAAM,GAAC,KAAG,sB,gBACrBR,mBAAA,CAME;IALAS,EAAE,EAAC,MAAM;IAPnB,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAQmBC,KAAA,CAAAC,QAAQ,CAACC,IAAI,GAAAH,MAAA;IACtBI,IAAI,EAAC,MAAM;IACXC,WAAW,EAAC,UAAU;IACtBC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,QAAQ,CAACC,IAAI,E,KAM1Bb,mBAAA,CASM,OATNiB,UASM,G,0BARJjB,mBAAA,CAAkC;IAA3BQ,GAAG,EAAC;EAAO,GAAC,SAAO,sB,gBAC1BR,mBAAA,CAME;IALAS,EAAE,EAAC,OAAO;IAjBpB,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IAkBmBC,KAAA,CAAAC,QAAQ,CAACM,KAAK,GAAAR,MAAA;IACvBI,IAAI,EAAC,KAAK;IACVC,WAAW,EAAC,oBAAoB;IAChCC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,QAAQ,CAACM,KAAK,E,KAM3BlB,mBAAA,CASM,OATNmB,UASM,G,0BARJnB,mBAAA,CAAgC;IAAzBQ,GAAG,EAAC;EAAO,GAAC,OAAK,sB,gBACxBR,mBAAA,CAME;IALAS,EAAE,EAAC,OAAO;IA3BpB,uBAAAP,MAAA,QAAAA,MAAA,MAAAQ,MAAA,IA4BmBC,KAAA,CAAAC,QAAQ,CAACQ,KAAK,GAAAV,MAAA;IACvBI,IAAI,EAAC,OAAO;IACZC,WAAW,EAAC,WAAW;IACvBC,QAAQ,EAAR;iDAHSL,KAAA,CAAAC,QAAQ,CAACQ,KAAK,E,KAMhBT,KAAA,CAAAU,IAAI,CAACC,MAAM,Q,cAAtBxB,mBAAA,CASM,OA3CZyB,UAAA,G,0BAmCQvB,mBAAA,CAAkB,YAAd,WAAS,sBACbA,mBAAA,CAKK,MALLwB,UAKK,I,kBAJH1B,mBAAA,CAGK2B,SAAA,QAxCfC,WAAA,CAqCsCf,KAAA,CAAAU,IAAI,EArC1C,CAqCsBM,IAAI,EAAEC,KAAK;yBAAvB9B,mBAAA,CAGK;MAH8BD,GAAG,EAAE+B;IAAK,IArCvDC,gBAAA,CAAAC,gBAAA,CAsCeH,IAAI,CAACd,IAAI,IAAG,IAAE,GAAAiB,gBAAA,CAAGH,IAAI,CAACI,YAAY,IAAG,KACxC,iBAAA/B,mBAAA,CAA6C,gBAAA8B,gBAAA,CAAlCzB,QAAA,CAAA2B,cAAc,CAACL,IAAI,KAAI,IAAE,gB;oCAGxC3B,mBAAA,CAA6B,YAAzB,SAAO,GAAA8B,gBAAA,CAAGzB,QAAA,CAAA4B,KAAK,IAAG,IAAE,gB,KA1ChCC,mBAAA,gB,0BA4CMlC,mBAAA,CAAgD;IAAxCc,IAAI,EAAC;EAAQ,GAAC,mBAAiB,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}