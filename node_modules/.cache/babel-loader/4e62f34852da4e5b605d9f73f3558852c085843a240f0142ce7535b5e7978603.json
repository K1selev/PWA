{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nexport default {\n  data() {\n    return {\n      formData: {\n        name: '',\n        phone: '',\n        email: ''\n      },\n      cart: []\n    };\n  },\n  computed: {\n    total() {\n      return this.cart.reduce((sum, item) => sum + this.calculatePrice(item), 0);\n    }\n  },\n  methods: {\n    calculatePrice(item) {\n      if (item.rentalPeriod === 'day') return item.priceDay;\n      if (item.rentalPeriod === 'week') return item.priceWeek;\n      if (item.rentalPeriod === 'month') return item.priceMonth;\n    },\n    submitOrder() {\n      if (this.cart.length === 0) {\n        alert('Ваша корзина пуста!');\n        return;\n      }\n\n      // Формируем заказ\n      const order = {\n        customer: this.formData,\n        items: this.cart,\n        total: this.total\n      };\n\n      // Отправка данных заказа (здесь имитация, вместо этого нужно использовать API)\n      console.log('Заказ отправлен:', order);\n\n      // Очищаем корзину и показываем сообщение\n      localStorage.removeItem('cart');\n      this.cart = [];\n      alert(`Спасибо за заказ, ${this.formData.name}! Мы с вами свяжемся.`);\n\n      // Перенаправляем на главную страницу\n      this.$router.push('/catalog');\n    }\n  },\n  mounted() {\n    this.cart = JSON.parse(localStorage.getItem('cart')) || [];\n  }\n};","map":{"version":3,"names":["data","formData","name","phone","email","cart","computed","total","reduce","sum","item","calculatePrice","methods","rentalPeriod","priceDay","priceWeek","priceMonth","submitOrder","length","alert","order","customer","items","console","log","localStorage","removeItem","$router","push","mounted","JSON","parse","getItem"],"sources":["/Users/sergey/Desktop/Политех/Web/PWA/src/pages/Checkout.vue"],"sourcesContent":["<template>\n    <div class=\"checkout\">\n      <h1>Оформление заказа</h1>\n      <form @submit.prevent=\"submitOrder\">\n        <div class=\"form-group\">\n          <label for=\"name\">Имя</label>\n          <input\n            id=\"name\"\n            v-model=\"formData.name\"\n            type=\"text\"\n            placeholder=\"Ваше имя\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"phone\">Телефон</label>\n          <input\n            id=\"phone\"\n            v-model=\"formData.phone\"\n            type=\"tel\"\n            placeholder=\"Ваш номер телефона\"\n            required\n          />\n        </div>\n        <div class=\"form-group\">\n          <label for=\"email\">Email</label>\n          <input\n            id=\"email\"\n            v-model=\"formData.email\"\n            type=\"email\"\n            placeholder=\"Ваш email\"\n            required\n          />\n        </div>\n        <div v-if=\"cart.length > 0\">\n          <h2>Ваш заказ</h2>\n          <ul class=\"order-summary\">\n            <li v-for=\"(item, index) in cart\" :key=\"index\">\n              {{ item.name }} ({{ item.rentalPeriod }}): \n              <strong>{{ calculatePrice(item) }} ₽</strong>\n            </li>\n          </ul>\n          <h3>Итого: {{ total }} ₽</h3>\n        </div>\n        <button type=\"submit\">Подтвердить заказ</button>\n      </form>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        formData: {\n          name: '',\n          phone: '',\n          email: '',\n        },\n        cart: [],\n      };\n    },\n    computed: {\n      total() {\n        return this.cart.reduce((sum, item) => sum + this.calculatePrice(item), 0);\n      },\n    },\n    methods: {\n      calculatePrice(item) {\n        if (item.rentalPeriod === 'day') return item.priceDay;\n        if (item.rentalPeriod === 'week') return item.priceWeek;\n        if (item.rentalPeriod === 'month') return item.priceMonth;\n      },\n      submitOrder() {\n        if (this.cart.length === 0) {\n          alert('Ваша корзина пуста!');\n          return;\n        }\n  \n        // Формируем заказ\n        const order = {\n          customer: this.formData,\n          items: this.cart,\n          total: this.total,\n        };\n  \n        // Отправка данных заказа (здесь имитация, вместо этого нужно использовать API)\n        console.log('Заказ отправлен:', order);\n  \n        // Очищаем корзину и показываем сообщение\n        localStorage.removeItem('cart');\n        this.cart = [];\n        alert(`Спасибо за заказ, ${this.formData.name}! Мы с вами свяжемся.`);\n        \n        // Перенаправляем на главную страницу\n        this.$router.push('/catalog');\n      },\n    },\n    mounted() {\n      this.cart = JSON.parse(localStorage.getItem('cart')) || [];\n    },\n  };\n  </script>\n  \n  <style scoped>\n  .checkout {\n    padding: 20px;\n    max-width: 600px;\n    margin: auto;\n    background: #fff;\n    border: 1px solid #ddd;\n    border-radius: 10px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  h1 {\n    font-size: 2rem;\n    margin-bottom: 20px;\n    text-align: center;\n  }\n  \n  .form-group {\n    margin-bottom: 15px;\n  }\n  \n  label {\n    font-weight: bold;\n    display: block;\n    margin-bottom: 5px;\n  }\n  \n  input {\n    width: 100%;\n    padding: 10px;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    font-size: 1rem;\n  }\n  \n  button[type=\"submit\"] {\n    width: 100%;\n    padding: 15px;\n    border: none;\n    background-color: #28a745;\n    color: white;\n    font-size: 1.2rem;\n    border-radius: 5px;\n    cursor: pointer;\n    margin-top: 20px;\n  }\n  \n  button[type=\"submit\"]:hover {\n    background-color: #218838;\n  }\n  \n  .order-summary {\n    list-style: none;\n    padding: 0;\n    margin-bottom: 20px;\n  }\n  \n  .order-summary li {\n    padding: 10px 0;\n    border-bottom: 1px solid #eee;\n    display: flex;\n    justify-content: space-between;\n  }\n  \n  h3 {\n    text-align: right;\n    font-size: 1.5rem;\n    color: #333;\n  }\n  </style>\n  "],"mappings":";;;AAkDE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE;QACRC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE;MACT,CAAC;MACDC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,KAAKA,CAAA,EAAG;MACN,OAAO,IAAI,CAACF,IAAI,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAKD,GAAE,GAAI,IAAI,CAACE,cAAc,CAACD,IAAI,CAAC,EAAE,CAAC,CAAC;IAC5E;EACF,CAAC;EACDE,OAAO,EAAE;IACPD,cAAcA,CAACD,IAAI,EAAE;MACnB,IAAIA,IAAI,CAACG,YAAW,KAAM,KAAK,EAAE,OAAOH,IAAI,CAACI,QAAQ;MACrD,IAAIJ,IAAI,CAACG,YAAW,KAAM,MAAM,EAAE,OAAOH,IAAI,CAACK,SAAS;MACvD,IAAIL,IAAI,CAACG,YAAW,KAAM,OAAO,EAAE,OAAOH,IAAI,CAACM,UAAU;IAC3D,CAAC;IACDC,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACZ,IAAI,CAACa,MAAK,KAAM,CAAC,EAAE;QAC1BC,KAAK,CAAC,qBAAqB,CAAC;QAC5B;MACF;;MAEA;MACA,MAAMC,KAAI,GAAI;QACZC,QAAQ,EAAE,IAAI,CAACpB,QAAQ;QACvBqB,KAAK,EAAE,IAAI,CAACjB,IAAI;QAChBE,KAAK,EAAE,IAAI,CAACA;MACd,CAAC;;MAED;MACAgB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEJ,KAAK,CAAC;;MAEtC;MACAK,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;MAC/B,IAAI,CAACrB,IAAG,GAAI,EAAE;MACdc,KAAK,CAAC,qBAAqB,IAAI,CAAClB,QAAQ,CAACC,IAAI,uBAAuB,CAAC;;MAErE;MACA,IAAI,CAACyB,OAAO,CAACC,IAAI,CAAC,UAAU,CAAC;IAC/B;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACxB,IAAG,GAAIyB,IAAI,CAACC,KAAK,CAACN,YAAY,CAACO,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE;EAC5D;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}