{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"cart\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"cart-items\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = [\"onUpdate:modelValue\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"h1\", null, \"Корзина\", -1 /* HOISTED */)), $data.cart.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.cart, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"cart-item\"\n    }, [_createElementVNode(\"img\", {\n      src: item.image\n    }, null, 8 /* PROPS */, _hoisted_3), _createElementVNode(\"div\", null, [_createElementVNode(\"h2\", null, _toDisplayString(item.name), 1 /* TEXT */), _cache[2] || (_cache[2] = _createElementVNode(\"p\", null, \"Период аренды:\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": $event => item.rentalPeriod = $event,\n      onChange: _cache[0] || (_cache[0] = (...args) => $options.updateCart && $options.updateCart(...args))\n    }, [...(_cache[1] || (_cache[1] = [_createElementVNode(\"option\", {\n      value: \"day\"\n    }, \"1 день\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"week\"\n    }, \"1 неделя\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n      value: \"month\"\n    }, \"1 месяц\", -1 /* HOISTED */)]))], 40 /* PROPS, NEED_HYDRATION */, _hoisted_4), [[_vModelSelect, item.rentalPeriod]]), _createElementVNode(\"strong\", null, \"Цена: \" + _toDisplayString($options.calculatePrice(item)) + \" ₽\", 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      onClick: $event => $options.removeFromCart(index)\n    }, \"Удалить\", 8 /* PROPS */, _hoisted_5)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"h3\", null, \"Итого: \" + _toDisplayString($options.total) + \" ₽\", 1 /* TEXT */), _createVNode(_component_router_link, {\n    to: \"/checkout\",\n    class: \"checkout-button\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"Оформить заказ\")])),\n    _: 1 /* STABLE */\n  })])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _cache[4] || (_cache[4] = [_createElementVNode(\"p\", null, \"Корзина пуста.\", -1 /* HOISTED */)])))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$data","cart","length","_hoisted_2","_Fragment","_renderList","item","index","src","image","_hoisted_3","_toDisplayString","name","$event","rentalPeriod","onChange","_cache","args","$options","updateCart","value","_hoisted_4","calculatePrice","onClick","removeFromCart","_hoisted_5","total","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_6"],"sources":["/Users/sergey/Desktop/Политех/Web/PWA/src/pages/RentalCart.vue"],"sourcesContent":["<template>\n    <div class=\"cart\">\n      <h1>Корзина</h1>\n      <div v-if=\"cart.length > 0\" class=\"cart-items\">\n        <div\n          v-for=\"(item, index) in cart\"\n          :key=\"index\"\n          class=\"cart-item\"\n        >\n          <img :src=\"item.image\" />\n          <div>\n            <h2>{{ item.name }}</h2>\n            <p>Период аренды:</p>\n            <select v-model=\"item.rentalPeriod\" @change=\"updateCart\">\n              <option value=\"day\">1 день</option>\n              <option value=\"week\">1 неделя</option>\n              <option value=\"month\">1 месяц</option>\n            </select>\n            <strong>Цена: {{ calculatePrice(item) }} ₽</strong>\n          </div>\n          <button @click=\"removeFromCart(index)\">Удалить</button>\n        </div>\n        <h3>Итого: {{ total }} ₽</h3>\n        <router-link to=\"/checkout\" class=\"checkout-button\">Оформить заказ</router-link>\n      </div>\n      <div v-else>\n        <p>Корзина пуста.</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  export default {\n    data() {\n      return {\n        cart: [],\n      };\n    },\n    computed: {\n      total() {\n        return this.cart.reduce((sum, item) => sum + this.calculatePrice(item), 0);\n      },\n    },\n    methods: {\n      calculatePrice(item) {\n        if (item.rentalPeriod === 'day') return item.priceDay;\n        if (item.rentalPeriod === 'week') return item.priceWeek;\n        if (item.rentalPeriod === 'month') return item.priceMonth;\n      },\n      removeFromCart(index) {\n        this.cart.splice(index, 1);\n        localStorage.setItem('cart', JSON.stringify(this.cart));\n      },\n      updateCart() {\n        localStorage.setItem('cart', JSON.stringify(this.cart));\n      },\n    },\n    mounted() {\n      this.cart = JSON.parse(localStorage.getItem('cart')) || [];\n    },\n  };\n  </script>\n  \n<style scoped>\n.cart {\n  padding: 20px;\n  max-width: 800px;\n  margin: auto;\n}\n\n.cart h1 {\n  text-align: center;\n  font-size: 2rem;\n  margin-bottom: 20px;\n}\n\n.cart-items {\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n}\n\n.cart-item {\n  display: flex;\n  gap: 15px;\n  border: 1px solid #ddd;\n  padding: 15px;\n  border-radius: 10px;\n  background-color: #f9f9f9;\n}\n\n.cart-item img {\n  width: 100px;\n  height: 100px;\n  border-radius: 8px;\n  object-fit: cover;\n}\n\n.cart-item div {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n}\n\n.cart-item h2 {\n  margin: 0;\n  font-size: 1.25rem;\n  color: #333;\n}\n\n.cart-item p {\n  margin: 5px 0;\n  color: #666;\n}\n\n.cart-item select {\n  margin-top: 5px;\n  padding: 8px;\n  font-size: 1rem;\n  border: 1px solid #ccc;\n  border-radius: 5px;\n}\n\n.cart-item strong {\n  margin-top: 10px;\n  font-size: 1.2rem;\n  color: #000;\n}\n\n.cart-item button {\n  align-self: flex-start;\n  background: #ff4d4d;\n  color: #fff;\n  border: none;\n  padding: 10px 15px;\n  font-size: 0.9rem;\n  border-radius: 5px;\n  cursor: pointer;\n}\n\n.cart-item button:hover {\n  background: #e33e3e;\n}\n\n.cart h3 {\n  margin-top: 20px;\n  font-size: 1.5rem;\n  text-align: right;\n}\n\n.checkout-button {\n  display: block;\n  margin-top: 20px;\n  padding: 15px;\n  text-align: center;\n  color: #fff;\n  background: #28a745;\n  text-decoration: none;\n  font-size: 1.2rem;\n  border-radius: 8px;\n  transition: background 0.3s ease;\n}\n\n.checkout-button:hover {\n  background: #218838;\n}\n\n.cart p {\n  text-align: center;\n  font-size: 1.2rem;\n  color: #777;\n  margin: 40px 0;\n}\n</style>\n  "],"mappings":";;EACSA,KAAK,EAAC;AAAM;;EADrBC,GAAA;EAGkCD,KAAK,EAAC;;mBAHxC;mBAAA;mBAAA;;EAAAC,GAAA;AAAA;;;uBACIC,mBAAA,CA2BM,OA3BNC,UA2BM,G,0BA1BJC,mBAAA,CAAgB,YAAZ,SAAO,sBACAC,KAAA,CAAAC,IAAI,CAACC,MAAM,Q,cAAtBL,mBAAA,CAqBM,OArBNM,UAqBM,I,kBApBJN,mBAAA,CAiBMO,SAAA,QArBdC,WAAA,CAKkCL,KAAA,CAAAC,IAAI,EALtC,CAKkBK,IAAI,EAAEC,KAAK;yBADrBV,mBAAA,CAiBM;MAfHD,GAAG,EAAEW,KAAK;MACXZ,KAAK,EAAC;QAENI,mBAAA,CAAyB;MAAnBS,GAAG,EAAEF,IAAI,CAACG;4BAT1BC,UAAA,GAUUX,mBAAA,CASM,cARJA,mBAAA,CAAwB,YAAAY,gBAAA,CAAjBL,IAAI,CAACM,IAAI,kB,0BAChBb,mBAAA,CAAqB,WAAlB,gBAAc,sB,gBACjBA,mBAAA,CAIS;MAjBrB,uBAAAc,MAAA,IAa6BP,IAAI,CAACQ,YAAY,GAAAD,MAAA;MAAGE,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;uCACrDlB,mBAAA,CAAmC;MAA3BqB,KAAK,EAAC;IAAK,GAAC,QAAM,qBAC1BrB,mBAAA,CAAsC;MAA9BqB,KAAK,EAAC;IAAM,GAAC,UAAQ,qBAC7BrB,mBAAA,CAAsC;MAA9BqB,KAAK,EAAC;IAAO,GAAC,SAAO,oB,qCAhB3CC,UAAA,I,gBAa6Bf,IAAI,CAACQ,YAAY,E,GAKlCf,mBAAA,CAAmD,gBAA3C,QAAM,GAAAY,gBAAA,CAAGO,QAAA,CAAAI,cAAc,CAAChB,IAAI,KAAI,IAAE,gB,GAE5CP,mBAAA,CAAuD;MAA9CwB,OAAK,EAAAV,MAAA,IAAEK,QAAA,CAAAM,cAAc,CAACjB,KAAK;OAAG,SAAO,iBApBxDkB,UAAA,E;kCAsBQ1B,mBAAA,CAA6B,YAAzB,SAAO,GAAAY,gBAAA,CAAGO,QAAA,CAAAQ,KAAK,IAAG,IAAE,iBACxBC,YAAA,CAAgFC,sBAAA;IAAnEC,EAAE,EAAC,WAAW;IAAClC,KAAK,EAAC;;IAvB1CmC,OAAA,EAAAC,QAAA,CAuB4D,MAAcf,MAAA,QAAAA,MAAA,OAvB1EgB,gBAAA,CAuB4D,gBAAc,E;IAvB1EC,CAAA;yBAyBMpC,mBAAA,CAEM,OA3BZqC,UAAA,EAAAlB,MAAA,QAAAA,MAAA,OA0BQjB,mBAAA,CAAqB,WAAlB,gBAAc,oB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}